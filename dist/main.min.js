!function(){"use strict";document.addEventListener("DOMContentLoaded",(function(){var t=[24.9983469,121.5810358],o=L.map("map",{attributionControl:!0,zoomControl:!0});L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(o);var n=L.icon({iconUrl:"https://letswritetw.github.io/letswrite-leaflet-osm-locate/dist/dot.svg",iconSize:[16,16]}),a=L.marker(t,{icon:n,title:"跟 <a> 的 title 一樣",opacity:1}).addTo(o);function c(t){var e=document.querySelectorAll(".js-panto");Array.prototype.forEach.call(e,(function(e){e.addEventListener("click",(function(e){e.preventDefault();var o=e.target.dataset.to.split(","),n=e.target.textContent,a=document.getElementById("flyTo").checked;L.popup().setLatLng(o).setContent("".concat(n)).openOn(t),a?t.flyTo(o):t.panTo(o)}))}))}function r(t){var e=document.querySelectorAll(".js-panby");Array.prototype.forEach.call(e,(function(e){e.addEventListener("click",(function(e){e.preventDefault();var o=50*e.target.dataset.times,n=[o,o];t.panBy(n)}))}))}o.locate({setView:!0,watch:!0,maxZoom:18,enableHighAccuracy:!0}),o.on("locationerror",function(e){console.log("e",e),window.alert("無法判斷您的所在位置，無法使用此功能。預設地點將為 台北市動物園"),o.setView(t,18),c(o),r(o)}(e)),o.on("locationfound",function(t){console.log("e",t),a.setLatLng(t.latlng),c(o),r(o)}(e))}))}();